# 冯诺依曼

## 模型

由指令组成的程序和程序所需要的数据储存在存储器中

指令的执行由算数逻辑单元来完成

指令执行的顺序由控制单元来控制

输入设备将程序和所需要的设备送入计算机

输出设备把执行的结果送到计算机之外

处理单元和控制单元是CPU的主要组成部分

![image-20221030141900497](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030141900497.png)

存储器

- 基本存储元件

  - 锁存器，触发器
  - 存储一位信息
- 寄存器

  - 存储多位信息
- 内存/主存储器

  - 存储信息的二维阵列，
  - ![image-20221030142110254](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030142110254-16671108711761-16671108722622.png)

  - 每一行一个存储单元
  - 包含一定大小的内容
- 地址

  - 和每一个存储单元联系起来的标识符（一行一个存储单元，所以有2^n行）
  - 二进制的地址
  - 地址空间：总数
- 寻址能力

  - 存储在每一个单元的信息的位数（存储单元的位数，一行一个存储单元）
- 地址空间
  - 可以被唯一识别的单元的总数![image-20221030142818891](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030142818891.png)


> 是指内存中能被单独识别并独立存放一个数据的最小内存空间

 

![image-20221030142220013](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030142220013.png)

## 总结

每一行一个存储单元**，他的位数是寻址能力**，能够唯一识别的单元的总数是地址空间，地址是能将每一个元素联系起来的标识符

寻址能力：记错了

### 寻址能力

大多数的存储器是字节寻址，也就是储存在为一个单元的位数是一个字节，8bit的长度

### 存储器

，![image-20221030143235632](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030143235632.png)

## SRAM？？？

静态随机访问存储器

Static Random Access Memory

结构简单

静态：只要给他供电，内部的数据就不会丢失们可以一直保存

随机访问：可以任意顺序的访问，不必关系前一次访问是哪一个单元

存储元：可以用更少的晶体管实现

## DRAM

动态随机访问存储器

动态：使用电容存储电荷保存数据

必须隔一段时间刷新一次

如果存储单元没有被刷新，存储的信息就会丢失

关机也会丢失数据

存储元：采用动态的存储单元，最常见的系统内存

![image-20221030144727688](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030144727688.png)

都是易失的，断了电就寄了

## 处理单元

算术逻辑单元ALU

## 字

ALU一次正常处理的消息量的大小被称为计算机的字长（word length）

## 寄存器堆

在ALU附近

用来临时存取数据，典型寄存器的大小等于ALU一次处理的数据的位数

## 控制单元

功能：指挥信息的处理

![image-20221030145513482](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030145513482.png)

## PC

程序计数器，指令指针，跟踪存储器的指令，跟踪要执行的下一条指令

#### 输入设备和输出设备

![image-20221030150126246](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030150126246.png)

## DLX

![image-20221030150216566](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030150216566.png)

一条数据总线，多时钟周期

  

## DLX数据通路

寄存器：

寄存器堆/文件，程序计数器PC，只狼寄存器IR

多路选择器：

DRMUX提供一个5位的地址给寄存器堆

AMUX和BMUX分别提供一个32位的数据给ALU

![image-20221030150609766](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030150609766.png)

![image-20221030150622725](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030150622725.png)

总线：组件之间的通信

存储器和处理器之间，处理器和I/o设备之间，有点功能多，成本低，缺点：通信瓶颈

![image-20221030150744223](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030150744223.png)

![image-20221030150754476](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030150754476.png)

三态设备只允许一个提供者能提供消息给总线

### MAR

主存地址寄存器，用来保存数据传输目的位置或者来源位置的地址

主存数据寄存器，用来保存要被写入的地址单元或者从地址单元读入的数据

##### 操作

读入：首先把地址存入地址寄存器，然后查询储存器，该地址所对应的存储单元的内容会输出到数据寄存器

写入，首先把写入的地址存入MAR，把值存入MDR，然后写能型号为1，查询存储器，MDR里面的信息会被写到MAR中的地址所对应的存储单元里面

## 处理单元

ALU和寄存器堆。

![image-20221030151959718](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030151959718.png)

没有整数乘除法和浮点数的运算操作

### 控制单元

有限状态机，指挥所有的行为

1. 有限状态机的输入是CLK，让说明了每一个时钟周期的持续时间
2. 为了跟踪指令的处理阶段，控制单元还有一个指令寄存器IR，用来保存正在执行的指令，IR也是有限状态机的一个输入
3. 程序计数器PC
   1. 记录下一条要被执行的指令所在的地址的位置

![image-20221030152343393](%E6%B4%9B%E4%BC%8A%E6%9B%BC%E6%A8%A1%E5%9E%8B.assets/image-20221030152343393.png)

实心是数据元素，空心是数据处理的控制信号，有限状态机的所有输出都是空心剪头